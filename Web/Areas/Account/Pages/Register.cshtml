@page
@using Web.Areas.Account.Pages;
@using Application.Entities;
@model MediatorRegisterModel<BlogUser>;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
}

@Html.AntiForgeryToken()
<section class="blg-section" style="padding-left: 25px;padding-right: 25px;height: 100vh">
    <div class="blg-child-node col" style="color: #eae7e1;justify-content: center;align-items: center;">
        <form id="registerForm" method="post" style="width: 270px;">
            <h3 style="font-weight: lighter;margin-bottom: 12px;">Register</h3>
            <div style="display: flex;flex-direction: column;gap: 12px;">
                <div class="group">
                    <span asp-validation-for="Input.FirstName" style="font-size: 0.6em;"></span>
                    <span asp-validation-for="Input.LastName" style="font-size: 0.6em;"></span>
                    <span asp-validation-for="Input.Email" style="font-size: 0.6em;"></span>
                    <span asp-validation-for="Input.Password" style="font-size: 0.6em;"></span>
                    <div asp-validation-summary="ModelOnly" style="font-size: 0.6em;"></div>
                </div>
                <div class="group">
                    <label>First Name</label>
                    <input asp-for="Input.FirstName" placeholder="First Name" type="text"/>
                </div>
                <div class="group">
                    <label>Last Name</label>
                    <input asp-for="Input.LastName" placeholder="Last Name" type="text"/>
                </div>
                <div class="group">
                    <label>Username</label>
                    <input asp-for="Input.Username" placeholder="Username" type="text"/>
                </div>
                <div class="group">
                    <label>Email</label>
                    <input asp-for="Input.Email" placeholder="Email" type="Email"/>
                </div>
                <div class="group">
                    <label>Password</label>
                    <input asp-for="Input.Password" placeholder="Password" type="password"/>
                </div>
                <div class="group">
                    <label>Confirm Password</label>
                    <input asp-for="Input.ConfirmPassword" placeholder="Confirm Password" type="password"/>
                </div>
                <div class="group">
                    <button id="registerSubmit" type="submit">Register</button>
                </div>
                <div class="group">
                    <label style="font-size: 0.8em;">Already have an? <a href="/account/login" style="color: var(--primary-color);">Login</a></label>
                </div>
            </div>
        </form>
    </div>
</section>
@*
<section class="custom-section" style="
            justify-content: center;
            height: 100vh;
            align-items: center;
            flex-direction: column">
    <form id="registerForm" class="custom-form" style="
            background: var(--white);
            display: flex; 
            align-items: center" method="post">
        <h3>Create an Account.</h3>
        <span class="subtitle">Enter credentials to create your account.</span>
        <span asp-validation-for="Input.FirstName" style="font-size: 0.6em;"></span>
        <span asp-validation-for="Input.LastName" style="font-size: 0.6em;"></span>
        <span asp-validation-for="Input.Username" style="font-size: 0.6em;"></span>
        <span asp-validation-for="Input.Email" style="font-size: 0.6em;"></span>
        <span asp-validation-for="Input.Password" style="font-size: 0.6em;"></span>
        <div asp-validation-summary="ModelOnly" style="font-size: 0.6em;"></div>

        <div class="form-spacer"></div>
        <div class="custom-form-group col">
            <i class="fa-solid fa-1 custom-input-icon" style="color: var(--blue-light)"></i>
            <input asp-for="Input.FirstName" class="custom-input icon-supp" placeholder="First Name" type="text"/>
        </div>
        <div class="custom-form-group col">
            <i class="fa-solid fa-2 custom-input-icon" style="color: var(--blue-light)"></i>
            <input asp-for="Input.LastName" class="custom-input icon-supp" placeholder="Last Name" type="text"/>
        </div>
        <div class="custom-form-group col">
            <i class="fa-solid fa-user custom-input-icon" style="color: var(--blue-light)"></i>
            <input asp-for="Input.Username" class="custom-input icon-supp" placeholder="Username" type="text"/>
        </div>
        <div class="custom-form-group col">
            <i class="fa-solid fa-envelope custom-input-icon" style="color: var(--blue-light)"></i>
            <input asp-for="Input.Email" class="custom-input icon-supp" placeholder="Email" type="email"/>
        </div>
        <div class="custom-form-group col">
            <i id="password" class="fa-solid fa-lock custom-input-icon" style="color: var(--blue-light)"></i>
            <input asp-for="Input.Password" onkeyup="checkForMatch()" class="custom-input icon-supp" placeholder="Password" type="password"/>
        </div>
        <div class="custom-form-group col">
            <i id="dynamic_icon_label" class="fa-solid fa-x custom-input-icon" style="color: var(--blue-light)"></i>
            <input asp-for="Input.ConfirmPassword" onkeyup="checkForMatch()" class="custom-input icon-supp" placeholder="Confirm Password" type="password"/>
        </div>
        <div class="custom-form-group">
            <button class="custom-button default" id="registerSubmit" onclick="" type="submit">Register</button>
        </div>
    </form>

    <p style="padding-top: 3rem;font-size: 0.8em;">Already have an account? <a href="/account/login" style="color: var(--blue-light)">Log in</a></p>
</section>
*@

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<script>
    var password = document.getElementById("Input_Password");
    var confirmpassword = document.getElementById("Input_ConfirmPassword")
    var icon = document.getElementById("dynamic_icon_label")
    
    function checkForMatch(){
        if (password.value === confirmpassword.value) {
            icon.classList.remove("fa-x");
            icon.classList.add("fa-check");
         } else { 
            icon.classList.remove("fa-check");
            icon.classList.add("fa-x");
         }
    }
</script>